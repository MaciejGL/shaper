fragment BaseExerciseData on BaseExercise {
  id
  name
  description
  videoUrl
  equipment
  isPublic
  createdById
  instructions
  tips
  difficulty
  images {
    id
    thumbnail
    medium
    url
    order
  }
  muscleGroups {
    id
    alias
    displayGroup
  }
  secondaryMuscleGroups {
    id
    alias
    displayGroup
  }
}

fragment WorkoutSetData on ExerciseSet {
  id
  order
  reps
  minReps
  maxReps
  weight
  rpe
  isExtra
  completedAt
  log {
    id
    weight
    rpe
    reps
    createdAt
  }
}

fragment WorkoutExerciseData on TrainingExercise {
  id
  name
  baseId
  equipment
  restSeconds
  tempo
  warmupSets
  description
  tips
  difficulty
  instructions
  additionalInstructions
  type
  order
  videoUrl
  images {
    id
    thumbnail
    medium
    url
    order
  }
  completedAt
  isExtra
  substitutedBy {
    id
    name
    instructions
    additionalInstructions
    type
    videoUrl
    completedAt
    baseId
    sets {
      ...WorkoutSetData
    }
  }
  substitutes {
    id
    substitute {
      id
      name
    }
  }
  muscleGroups {
    id
    alias
    displayGroup
  }
  sets {
    ...WorkoutSetData
  }
}

fragment WorkoutDayData on TrainingDay {
  id
  dayOfWeek
  isRestDay
  workoutType
  startedAt
  completedAt
  scheduledAt
  exercises {
    ...WorkoutExerciseData
  }
}

fragment PreviousWorkoutLogs on PreviousExerciseLog {
  id
  exerciseName
  baseId
  sets {
    id
    order
    log {
      id
      weight
      reps
      createdAt
    }
  }
}

query FitspaceGetCurrentWorkoutId {
  getMyPlansOverview {
    activePlan {
      id
    }
  }
}

query FitspaceGetActivePlanId {
  getActivePlanId
}

query FitspaceGetExercises {
  getExercises {
    publicExercises {
      ...BaseExerciseData
    }
    trainerExercises {
      ...BaseExerciseData
    }
    userExercises {
      ...BaseExerciseData
    }
  }
  muscleGroupCategories {
    id
    name
    slug
    muscles {
      id
      alias
      displayGroup
    }
  }
}

mutation FitspaceCreateCustomExercise($input: FitspaceCreateCustomExerciseInput!) {
  fitspaceCreateCustomExercise(input: $input) {
    ...BaseExerciseData
  }
}

mutation FitspaceUpdateCustomExercise(
  $id: ID!
  $input: FitspaceUpdateCustomExerciseInput!
) {
  fitspaceUpdateCustomExercise(id: $id, input: $input) {
    ...BaseExerciseData
  }
}

mutation FitspaceDeleteCustomExercise($id: ID!) {
  fitspaceDeleteCustomExercise(id: $id)
}

query FitspaceGetWorkoutInfo($dayId: ID!) {
  getWorkoutInfo(dayId: $dayId) {
    id
    duration
    personalRecords {
      exerciseName
      estimated1RM
      weight
      reps
      improvement
    }
  }
}

query FitspaceGetWorkoutDay($dayId: ID, $planId: ID) {
  getWorkoutDay(dayId: $dayId, planId: $planId) {
    day {
      ...WorkoutDayData
    }
    previousDayLogs {
      ...PreviousWorkoutLogs
    }
  }
}

query FitspaceGetWorkoutDaysBatch($dayIds: [ID!]!) {
  getWorkoutDaysBatch(dayIds: $dayIds) {
    day {
      ...WorkoutDayData
    }
    previousDayLogs {
      ...PreviousWorkoutLogs
    }
  }
}

query FitspaceGetWorkoutNavigation($trainingId: ID!) {
  getWorkoutNavigation(trainingId: $trainingId) {
    plan {
      id
      startDate
      completedAt
      title
      isQuickWorkout
      weeks {
        id
        weekNumber
        completedAt
        scheduledAt
        days {
          id
          dayOfWeek
          isRestDay
          completedAt
          scheduledAt
          exercisesCount
        }
      }
    }
  }
}

mutation FitspaceGetAiExerciseSuggestions($dayId: ID!) {
  getAiExerciseSuggestions(dayId: $dayId) {
    exercise {
      id
      name
      description
      videoUrl
      equipment
      isPublic
      muscleGroups {
        id
        alias
        displayGroup
      }
      secondaryMuscleGroups {
        id
        alias
        displayGroup
      }
    }
    sets {
      reps
      rpe
    }
    aiMeta {
      explanation
    }
  }
}

mutation FitspaceAddAiExerciseToWorkout($input: AddAiExerciseToWorkoutInput!) {
  addAiExerciseToWorkout(input: $input) {
    id
  }
}

mutation FitspaceMarkSetAsCompleted(
  $setId: ID!
  $completed: Boolean!
  $reps: Int
  $weight: Float
) {
  markSetAsCompleted(
    setId: $setId
    completed: $completed
    reps: $reps
    weight: $weight
  ) {
    success
    isPersonalRecord
    improvement
  }
}
mutation FitspaceMarkExerciseAsCompleted(
  $exerciseId: ID!
  $completed: Boolean!
) {
  markExerciseAsCompleted(exerciseId: $exerciseId, completed: $completed)
}

mutation FitspaceUpdateSetLog($input: LogSetInput!) {
  updateSetLog(input: $input) {
    id
    reps
    weight
    rpe
  }
}

mutation FitspaceLogWorkoutProgress($dayId: ID!, $tick: Int!) {
  logWorkoutProgress(dayId: $dayId, tick: $tick)
}

mutation FitspaceMarkWorkoutAsCompleted($dayId: ID!) {
  markWorkoutAsCompleted(dayId: $dayId) {
    success
    planCompleted
    planId
  }
}

mutation FitspaceAddExercisesToWorkout($input: AddExercisesToWorkoutInput!) {
  addExercisesToWorkout(input: $input) {
    id
  }
}

mutation FitspaceRemoveExerciseFromWorkout($exerciseId: ID!) {
  removeExerciseFromWorkout(exerciseId: $exerciseId)
}

mutation FitspaceAddSet($exerciseId: ID!) {
  addSet(exerciseId: $exerciseId) {
    id
  }
}

mutation FitspaceRemoveSet($setId: ID!) {
  removeSet(setId: $setId)
}

mutation FitspaceSwapExercise($exerciseId: ID!, $substituteId: ID!) {
  swapExercise(exerciseId: $exerciseId, substituteId: $substituteId) {
    id
  }
}

mutation FitspaceShiftTrainingSchedule($input: ShiftTrainingScheduleInput!) {
  shiftTrainingSchedule(input: $input)
}
