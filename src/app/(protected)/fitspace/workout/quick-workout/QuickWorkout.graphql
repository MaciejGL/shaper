# Get Quick Workout navigation
query FitspaceGetQuickWorkoutNavigation {
  getQuickWorkoutNavigation {
    plan {
      id
      title
      startDate
      weeks {
        id
        weekNumber
        completedAt
        scheduledAt
        days {
          id
          dayOfWeek
          isRestDay
          completedAt
          scheduledAt
          exercisesCount
        }
      }
    }
  }
}

# Get Quick Workout day
query FitspaceGetQuickWorkoutDay($dayId: ID) {
  getQuickWorkoutDay(dayId: $dayId) {
    day {
      id
      dayOfWeek
      isRestDay
      workoutType
      startedAt
      completedAt
      scheduledAt
      exercises {
        id
        name
        baseId
        restSeconds
        tempo
        warmupSets
        description
        tips
        difficulty
        instructions
        additionalInstructions
        type
        order
        videoUrl
        images {
          id
          thumbnail
          medium
          order
        }
        completedAt
        isExtra
        substitutedBy {
          id
          name
          instructions
          additionalInstructions
          type
          videoUrl
          completedAt
          baseId
          sets {
            id
            order
            reps
            minReps
            maxReps
            weight
            rpe
            isExtra
            completedAt
            log {
              id
              weight
              rpe
              reps
              createdAt
            }
          }
        }
        substitutes {
          id
          substitute {
            id
            name
          }
        }
        muscleGroups {
          id
          alias
          groupSlug
        }
        sets {
          id
          order
          reps
          minReps
          maxReps
          weight
          rpe
          isExtra
          completedAt
          log {
            id
            weight
            rpe
            reps
            createdAt
          }
        }
      }
    }
    previousDayLogs {
      id
      exerciseName
      baseId
      sets {
        id
        order
        log {
          id
          weight
          reps
          createdAt
        }
      }
    }
  }
}

# Get public exercises only - clients can't access user exercises
query QuickWorkoutExercises($where: ExerciseWhereInput) {
  publicExercises(where: $where) {
    id
    name
    description
    videoUrl
    equipment
    type
    description
    images {
      id
      url
      order
    }
    muscleGroups {
      id
      name
      alias
      groupSlug
    }
    secondaryMuscleGroups {
      id
      name
      alias
      groupSlug
    }
  }

  publicExercises(where: $where) {
    id
    name
    description
    videoUrl
    equipment
    type
    description
    images {
      id
      thumbnail
      medium
      order
    }
    muscleGroups {
      id
      name
      alias
      groupSlug
    }
    secondaryMuscleGroups {
      id
      name
      alias
      groupSlug
    }
  }
}

# Look for the user's own quick workout plan (created by them and assigned to them)
query FitspaceGetUserQuickWorkoutPlan {
  getQuickWorkoutPlan {
    id
    title
    startDate

    weeks {
      id
      weekNumber
      completedAt
      scheduledAt
      days {
        id
        dayOfWeek
        isRestDay
        completedAt
        scheduledAt
        exercises {
          id
          name
          baseId
          order
          completedAt
          equipment
          images {
            id
            thumbnail
            medium
            order
          }
          muscleGroups {
            id
            name
            alias
            groupSlug
          }
          sets {
            id
            order
            reps
            minReps
            maxReps
            weight
            rpe
          }
        }
      }
    }
  }
}

# Unified quick workout creation - works for both manual and AI flows
mutation FitspaceCreateQuickWorkout($input: CreateQuickWorkoutInput!) {
  createQuickWorkout(input: $input) {
    id
    title
    isDraft
    weeks {
      id
      weekNumber
      days {
        id
        dayOfWeek
        isRestDay
        scheduledAt

        exercises {
          id
          name
          order
          isExtra
          baseId
          images {
            id
            thumbnail
            medium
            order
          }
          muscleGroups {
            id
            alias
            groupSlug
          }
          sets {
            id
            order
            minReps
            maxReps
            reps
            weight
            rpe
          }
        }
      }
    }
  }
}

# Generate AI workout (with 2 variants)
mutation FitspaceGenerateAiWorkout($input: GenerateAiWorkoutInput!) {
  generateAiWorkout(input: $input) {
    variants {
      name
      summary
      reasoning
      totalDuration
      exercises {
        exercise {
          id
          name
          description
          videoUrl
          equipment
          images {
            id
            thumbnail
            medium
            order
          }
          muscleGroups {
            id
            alias
            groupSlug
          }
        }
        sets {
          reps
          minReps
          maxReps
          rpe
        }
        order
      }
    }
  }
}

# Legacy mutations for backwards compatibility
mutation CreateQuickWorkoutPlan($input: CreateTrainingPlanInput!) {
  createTrainingPlan(input: $input) {
    id
    success
  }
}

mutation AssignQuickWorkoutPlan($input: AssignTrainingPlanToClientInput!) {
  assignTrainingPlanToClient(input: $input)
}

mutation AddExercisesToQuickWorkout($exercises: [QuickWorkoutExerciseInput!]!) {
  addExercisesToQuickWorkout(exercises: $exercises) {
    id
  }
}

mutation FitspaceAddExercisesToQuickWorkout(
  $exercises: [QuickWorkoutExerciseInput!]!
) {
  addExercisesToQuickWorkout(exercises: $exercises) {
    id
    title
    isDraft
    weeks {
      id
      weekNumber
      days {
        id
        dayOfWeek
        isRestDay
        scheduledAt
        exercises {
          id
          name
          order
          isExtra
          baseId
          muscleGroups {
            id
            alias
            groupSlug
          }
          sets {
            id
            order
            minReps
            maxReps
            reps
            weight
            rpe
          }
        }
      }
    }
  }
}

# Clear workout day by ID (remove all exercises from specified day)
mutation FitspaceClearWorkoutDay($dayId: ID!) {
  clearWorkoutDay(dayId: $dayId)
}

# Add single exercise to workout day
mutation FitspaceAddSingleExerciseToDay($dayId: ID!, $exerciseBaseId: ID!) {
  addSingleExerciseToDay(dayId: $dayId, exerciseBaseId: $exerciseBaseId) {
    id
    name
    baseId
    sets {
      id
      order
      reps
    }
  }
}
