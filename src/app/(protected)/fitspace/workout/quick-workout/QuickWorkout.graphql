# Get public exercises only - clients can't access user exercises
query QuickWorkoutExercises($where: ExerciseWhereInput) {
  publicExercises(where: $where) {
    id
    name
    description
    videoUrl
    equipment
    type
    description
    muscleGroups {
      id
      name
      alias
      groupSlug
    }
  }
}

# Look for the user's own quick workout plan (created by them and assigned to them)
query FitspaceGetUserQuickWorkoutPlan {
  getQuickWorkoutPlan {
    id
    title

    weeks {
      id
      scheduledAt
      days {
        id
        dayOfWeek
        isRestDay
        scheduledAt
        exercises {
          id
          name
          baseId
          order
          completedAt
          equipment
          muscleGroups {
            id
            name
            alias
            groupSlug
          }
          sets {
            id
            order
            reps
            minReps
            maxReps
            weight
            rpe
          }
        }
      }
    }
  }
}

# Create a new quick workout plan for the user
mutation CreateQuickWorkoutPlan($input: CreateTrainingPlanInput!) {
  createTrainingPlan(input: $input) {
    id
    success
  }
}

# Assign the created plan to the user (but don't activate it)
mutation AssignQuickWorkoutPlan($input: AssignTrainingPlanToClientInput!) {
  assignTrainingPlanToClient(input: $input)
}

# Add exercises to the quick workout day with order information
mutation AddExercisesToQuickWorkout($exercises: [QuickWorkoutExerciseInput!]!) {
  addExercisesToQuickWorkout(exercises: $exercises) {
    id
  }
}

mutation FitspaceAddExercisesToQuickWorkout(
  $exercises: [QuickWorkoutExerciseInput!]!
) {
  addExercisesToQuickWorkout(exercises: $exercises) {
    id
    title
    isDraft
    weeks {
      id
      weekNumber
      days {
        id
        dayOfWeek
        isRestDay
        scheduledAt
        exercises {
          id
          name
          order
          isExtra
          baseId
          muscleGroups {
            id
            alias
            groupSlug
          }
          sets {
            id
            order
            minReps
            maxReps
            reps
            weight
            rpe
          }
        }
      }
    }
  }
}

mutation FitspaceGenerateAiWorkout($input: GenerateAiWorkoutInput!) {
  generateAiWorkout(input: $input) {
    exercises {
      exercise {
        id
        name
        description
        videoUrl
        equipment
        isPublic
        muscleGroups {
          id
          alias
          groupSlug
        }
      }
      sets {
        reps
        rpe
      }
      order
      aiMeta {
        explanation
      }
    }
    totalDuration
    aiMeta {
      summary
      reasoning
    }
  }
}
