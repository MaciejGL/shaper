query GetOrCreateChat($partnerId: ID!) {
  getOrCreateChat(partnerId: $partnerId) {
    id
    trainerId
    clientId
    trainer {
      id
      email

      firstName
      lastName
      image
    }
    client {
      id
      email
      firstName
      lastName
      image
    }
    unreadCount
    lastMessage {
      id
      content
      createdAt
      sender {
        id
        firstName
        lastName
      }
    }
    createdAt
    updatedAt
  }
}

query GetChatMessages($chatId: ID!, $skip: Int, $take: Int) {
  getChatMessages(chatId: $chatId, skip: $skip, take: $take) {
    id
    chatId
    content
    imageUrl
    isEdited
    isDeleted
    readAt
    createdAt
    updatedAt
    sender {
      id
      firstName
      lastName
      email
      image
    }
  }
}

query GetMyChats {
  getMyChats {
    id
    trainerId
    clientId
    trainer {
      id
      firstName
      lastName
      email
      image
    }
    client {
      id
      firstName
      lastName
      email
      image
    }
    unreadCount
    lastMessage {
      id
      content
      createdAt
    }
    createdAt
    updatedAt
  }
}

query GetTotalUnreadCount {
  getTotalUnreadCount
}

query GetMessengerInitialData($messagesPerChat: Int) {
  getMessengerInitialData(messagesPerChat: $messagesPerChat) {
    chats {
      id
      trainerId
      clientId
      trainer {
        id
        firstName
        lastName
        email
        image
      }
      client {
        id
        firstName
        lastName
        email
        image
      }
      messages {
        id
        chatId
        content
        imageUrl
        isEdited
        isDeleted
        readAt
        createdAt
        updatedAt
        sender {
          id
          email
          firstName
          lastName
          image
        }
      }
      hasMoreMessages
      lastMessage {
        id
        content
        createdAt
        sender {
          id
          email
          firstName
          lastName
          image
        }
      }
      unreadCount
      createdAt
      updatedAt
    }
    totalUnreadCount
  }
}

mutation SendMessage($input: SendMessageInput!) {
  sendMessage(input: $input) {
    id
    chatId
    content
    imageUrl
    isEdited
    isDeleted
    readAt
    createdAt
    updatedAt
    sender {
      id

      firstName
      lastName
      image
    }
  }
}

mutation EditMessage($input: EditMessageInput!) {
  editMessage(input: $input) {
    id
    chatId
    content
    imageUrl
    isEdited
    isDeleted
    readAt
    createdAt
    updatedAt
    sender {
      id
      firstName
      lastName
      image
    }
  }
}

mutation DeleteMessage($id: ID!) {
  deleteMessage(id: $id)
}

mutation MarkMessagesAsRead($input: MarkMessagesAsReadInput!) {
  markMessagesAsRead(input: $input)
}
