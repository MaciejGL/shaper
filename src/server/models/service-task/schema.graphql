enum TaskType {
  PLAN_DELIVERY
  MEETING_CHECKIN
  MEETING_IN_PERSON
}

enum TaskStatus {
  PENDING
  IN_PROGRESS
  COMPLETED
  CANCELLED
}

type ServiceTask {
  id: ID!
  serviceDeliveryId: ID!
  templateId: String!
  title: String!
  taskType: TaskType!
  status: TaskStatus!
  order: Int!
  isRequired: Boolean!

  # Auto-completion tracking
  autoCompleteOn: String
  completedAt: String
  completedBy: String
  notes: String

  # Relations
  serviceDelivery: ServiceDelivery!

  createdAt: String!
  updatedAt: String!
}

input UpdateServiceTaskInput {
  status: TaskStatus
  notes: String
}

type Query {
  # Get tasks for a specific service delivery
  getServiceDeliveryTasks(serviceDeliveryId: ID!): [ServiceTask!]!

  # Get all tasks for trainer's service deliveries
  getTrainerTasks(
    trainerId: ID!
    status: TaskStatus
    serviceDeliveryId: ID
  ): [ServiceTask!]!
}

type Mutation {
  # Update task status manually
  updateServiceTask(taskId: ID!, input: UpdateServiceTaskInput!): ServiceTask!
}
