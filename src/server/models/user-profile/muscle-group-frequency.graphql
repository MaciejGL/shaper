# Muscle Group Training Frequency Schema
type MuscleGroupFrequency {
  displayGroup: String!
  groupName: String!
  sessionsCount: Int!
  totalSets: Int!
  lastTrained: String
}

# Individual Muscle Training Frequency Schema
type MuscleFrequency {
  muscleId: String!
  muscleName: String!
  muscleAlias: String!
  displayGroup: String!
  groupName: String!
  sessionsCount: Int!
  totalSets: Int!
  lastTrained: String
}

type MuscleGroupDistribution {
  chest: Int!
  back: Int!
  shoulders: Int!
  arms: Int!
  legs: Int!
  core: Int!
}

# Sub-muscle breakdown for detailed view
type SubMuscleProgress {
  name: String!
  alias: String!
  completedSets: Int!
}

enum MuscleContributionType {
  PRIMARY
  SECONDARY
}

type MuscleExerciseContribution {
  exerciseId: ID!
  exerciseName: String!
  contributionType: MuscleContributionType!
  rawSets: Int!
  weightedSets: Float!
}

# Weekly Muscle Progress for Gamification
type WeeklyMuscleProgress {
  muscleGroup: String!
  completedSets: Int!
  targetSets: Int!
  percentage: Float!
  lastTrained: String
  subMuscles: [SubMuscleProgress!]!
  exerciseContributions: [MuscleExerciseContribution!]!
}

type WeeklyProgressSummary {
  weekStartDate: String!
  weekEndDate: String!
  overallPercentage: Float!
  muscleProgress: [WeeklyMuscleProgress!]!
  streakWeeks: Int!
}

# Weekly progress history item (simplified for charts)
type WeeklyProgressHistoryItem {
  weekStartDate: String!
  weekEndDate: String!
  overallPercentage: Float!
  totalSets: Int!
  focusPreset: String
}

# Daily Activity for Activity Heatmap (GitHub-style)
type DailyActivity {
  date: String!
  totalSets: Int!
  dayOfWeek: Int!
}

type ActivityHeatmapData {
  activities: [DailyActivity!]!
  weekCount: Int!
}

extend type Query {
  muscleGroupFrequency(userId: ID!, days: Int = 30): [MuscleGroupFrequency!]!
  muscleFrequency(userId: ID!, days: Int = 30): [MuscleFrequency!]!
  muscleGroupDistribution(userId: ID!, days: Int = 30): MuscleGroupDistribution!
  weeklyMuscleProgress(
    userId: ID!
    weekOffset: Int = 0
    targetDate: String
  ): WeeklyProgressSummary!
  weeklyProgressHistory(userId: ID!, weekCount: Int = 8): [WeeklyProgressHistoryItem!]!
  activityHeatmap(userId: ID!, weekCount: Int = 8): ActivityHeatmapData!
}
