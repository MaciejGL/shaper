type Note {
  id: ID!
  text: String!
  relatedTo: ID
  createdAt: String!
  updatedAt: String!
  shareWithTrainer: Boolean
  shareWithClient: Boolean
  parentNoteId: ID
  replies: [Note!]!
  createdBy: UserPublic!
}

type WorkoutExerciseNotes {
  exerciseName: String!
  notes: [Note!]!
}

type Query {
  notes(relatedTo: ID): [Note!]!
  note(id: ID!, relatedTo: ID): Note
  exerciseNotes(exerciseName: String!): [Note!]!
  workoutExerciseNotes(exerciseNames: [String!]!): [WorkoutExerciseNotes!]!
  clientSharedNotes(clientId: String!): [Note!]!
  trainerSharedNotes(limit: Int, offset: Int): [Note!]!
  noteReplies(noteId: String!): [Note!]!
}

input CreateNoteInput {
  note: String!
  relatedTo: ID
  shareWithTrainer: Boolean
  shareWithClient: Boolean
}

input UpdateNoteInput {
  id: ID!
  note: String!
  shareWithTrainer: Boolean
  shareWithClient: Boolean
}

input CreateExerciseNoteInput {
  exerciseId: String!
  note: String!
  shareWithTrainer: Boolean
  shareWithClient: Boolean
}

input CreateTrainerNoteForClientInput {
  clientId: String!
  exerciseId: String!
  note: String!
  shareWithClient: Boolean
}

input CreateNoteReplyInput {
  parentNoteId: String!
  text: String!
}

type Mutation {
  createNote(input: CreateNoteInput!): Note!
  updateNote(input: UpdateNoteInput!): Note!
  deleteNote(id: ID!): Boolean!
  createExerciseNote(input: CreateExerciseNoteInput!): Note!
  createTrainerNoteForClient(input: CreateTrainerNoteForClientInput!): Note!
  createNoteReply(input: CreateNoteReplyInput!): Note!
}
